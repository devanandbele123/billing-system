{"ast":null,"code":"var _loadCart;\n// cartSlice.ts\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport { loadCart, saveCart, clearCartStorage } from \"../../app/localStorage\";\nconst initialState = (_loadCart = loadCart()) !== null && _loadCart !== void 0 ? _loadCart : {\n  items: {}\n};\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState,\n  reducers: {\n    setQty(state, action) {\n      const {\n        id,\n        qty\n      } = action.payload;\n      if (qty <= 0) {\n        delete state.items[id];\n      } else {\n        state.items[id] = qty;\n      }\n      saveCart(state);\n    },\n    increase(state, action) {\n      var _state$items$id;\n      const {\n        id,\n        by = 1\n      } = action.payload;\n      const current = (_state$items$id = state.items[id]) !== null && _state$items$id !== void 0 ? _state$items$id : 0;\n      state.items[id] = current + by;\n      saveCart(state);\n    },\n    decrease(state, action) {\n      var _state$items$id2;\n      const {\n        id,\n        by = 1\n      } = action.payload;\n      const current = (_state$items$id2 = state.items[id]) !== null && _state$items$id2 !== void 0 ? _state$items$id2 : 0;\n      const newQty = current - by;\n      if (newQty <= 0) delete state.items[id];else state.items[id] = newQty;\n      saveCart(state);\n    },\n    clearCart(state) {\n      state.items = {};\n      clearCartStorage();\n    }\n  }\n});\nexport const {\n  setQty,\n  increase,\n  decrease,\n  clearCart\n} = cartSlice.actions;\nexport default cartSlice.reducer;","map":{"version":3,"names":["createSlice","loadCart","saveCart","clearCartStorage","initialState","_loadCart","items","cartSlice","name","reducers","setQty","state","action","id","qty","payload","increase","_state$items$id","by","current","decrease","_state$items$id2","newQty","clearCart","actions","reducer"],"sources":["C:/Users/devan/OneDrive/Desktop/BillingSys/billing-system-app/src/features/cart/cartSlice.ts"],"sourcesContent":["// cartSlice.ts\r\nimport { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { CartState } from \"../../types\";\r\nimport { loadCart, saveCart, clearCartStorage } from \"../../app/localStorage\";\r\n\r\nconst initialState: CartState = loadCart() ?? { items: {} };\r\n\r\nconst cartSlice = createSlice({\r\n  name: \"cart\",\r\n  initialState,\r\n  reducers: {\r\n    setQty(state, action: PayloadAction<{ id: string; qty: number }>) {\r\n      const { id, qty } = action.payload;\r\n      if (qty <= 0) {\r\n        delete state.items[id];\r\n      } else {\r\n        state.items[id] = qty;\r\n      }\r\n      saveCart(state);\r\n    },\r\n    increase(state, action: PayloadAction<{ id: string; by?: number }>) {\r\n      const { id, by = 1 } = action.payload;\r\n      const current = state.items[id] ?? 0;\r\n      state.items[id] = current + by;\r\n      saveCart(state);\r\n    },\r\n    decrease(state, action: PayloadAction<{ id: string; by?: number }>) {\r\n      const { id, by = 1 } = action.payload;\r\n      const current = state.items[id] ?? 0;\r\n      const newQty = current - by;\r\n      if (newQty <= 0) delete state.items[id];\r\n      else state.items[id] = newQty;\r\n      saveCart(state);\r\n    },\r\n    clearCart(state) {\r\n      state.items = {};\r\n      clearCartStorage();\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setQty, increase, decrease, clearCart } = cartSlice.actions;\r\nexport default cartSlice.reducer;\r\n"],"mappings":";AAAA;AACA,SAASA,WAAW,QAAuB,kBAAkB;AAE7D,SAASC,QAAQ,EAAEC,QAAQ,EAAEC,gBAAgB,QAAQ,wBAAwB;AAE7E,MAAMC,YAAuB,IAAAC,SAAA,GAAGJ,QAAQ,CAAC,CAAC,cAAAI,SAAA,cAAAA,SAAA,GAAI;EAAEC,KAAK,EAAE,CAAC;AAAE,CAAC;AAE3D,MAAMC,SAAS,GAAGP,WAAW,CAAC;EAC5BQ,IAAI,EAAE,MAAM;EACZJ,YAAY;EACZK,QAAQ,EAAE;IACRC,MAAMA,CAACC,KAAK,EAAEC,MAAkD,EAAE;MAChE,MAAM;QAAEC,EAAE;QAAEC;MAAI,CAAC,GAAGF,MAAM,CAACG,OAAO;MAClC,IAAID,GAAG,IAAI,CAAC,EAAE;QACZ,OAAOH,KAAK,CAACL,KAAK,CAACO,EAAE,CAAC;MACxB,CAAC,MAAM;QACLF,KAAK,CAACL,KAAK,CAACO,EAAE,CAAC,GAAGC,GAAG;MACvB;MACAZ,QAAQ,CAACS,KAAK,CAAC;IACjB,CAAC;IACDK,QAAQA,CAACL,KAAK,EAAEC,MAAkD,EAAE;MAAA,IAAAK,eAAA;MAClE,MAAM;QAAEJ,EAAE;QAAEK,EAAE,GAAG;MAAE,CAAC,GAAGN,MAAM,CAACG,OAAO;MACrC,MAAMI,OAAO,IAAAF,eAAA,GAAGN,KAAK,CAACL,KAAK,CAACO,EAAE,CAAC,cAAAI,eAAA,cAAAA,eAAA,GAAI,CAAC;MACpCN,KAAK,CAACL,KAAK,CAACO,EAAE,CAAC,GAAGM,OAAO,GAAGD,EAAE;MAC9BhB,QAAQ,CAACS,KAAK,CAAC;IACjB,CAAC;IACDS,QAAQA,CAACT,KAAK,EAAEC,MAAkD,EAAE;MAAA,IAAAS,gBAAA;MAClE,MAAM;QAAER,EAAE;QAAEK,EAAE,GAAG;MAAE,CAAC,GAAGN,MAAM,CAACG,OAAO;MACrC,MAAMI,OAAO,IAAAE,gBAAA,GAAGV,KAAK,CAACL,KAAK,CAACO,EAAE,CAAC,cAAAQ,gBAAA,cAAAA,gBAAA,GAAI,CAAC;MACpC,MAAMC,MAAM,GAAGH,OAAO,GAAGD,EAAE;MAC3B,IAAII,MAAM,IAAI,CAAC,EAAE,OAAOX,KAAK,CAACL,KAAK,CAACO,EAAE,CAAC,CAAC,KACnCF,KAAK,CAACL,KAAK,CAACO,EAAE,CAAC,GAAGS,MAAM;MAC7BpB,QAAQ,CAACS,KAAK,CAAC;IACjB,CAAC;IACDY,SAASA,CAACZ,KAAK,EAAE;MACfA,KAAK,CAACL,KAAK,GAAG,CAAC,CAAC;MAChBH,gBAAgB,CAAC,CAAC;IACpB;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEO,MAAM;EAAEM,QAAQ;EAAEI,QAAQ;EAAEG;AAAU,CAAC,GAAGhB,SAAS,CAACiB,OAAO;AAC1E,eAAejB,SAAS,CAACkB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}