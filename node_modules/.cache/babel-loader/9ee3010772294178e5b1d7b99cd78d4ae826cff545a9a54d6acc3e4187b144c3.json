{"ast":null,"code":"// localStorage.ts\n// ----------------------------\n// Handles saving & loading the cart from localStorage\n// ----------------------------\n\n// A fixed key used to store cart data\nconst CART_KEY = \"cart_v1\";\n\n/**\r\n * Load cart data from localStorage.\r\n * Returns:\r\n *  - Parsed cart state if found\r\n *  - undefined if nothing stored or error occurs\r\n */\nexport const loadCart = () => {\n  try {\n    const savedCart = localStorage.getItem(CART_KEY);\n\n    // If nothing stored yet → return undefined\n    if (!savedCart) return undefined;\n\n    // Convert JSON string → JS object\n    return JSON.parse(savedCart);\n  } catch (error) {\n    // If any error happens (invalid JSON, etc.) → ignore\n    return undefined;\n  }\n};\n\n/**\r\n * Save the current cart state into localStorage.\r\n */\nexport const saveCart = state => {\n  try {\n    const json = JSON.stringify(state); // Convert to string\n    localStorage.setItem(CART_KEY, json); // Save it\n  } catch (error) {\n    // Ignore errors (e.g., storage full)\n  }\n};\n\n/**\r\n * Remove all saved cart data from localStorage.\r\n */\nexport const clearCartStorage = () => {\n  localStorage.removeItem(CART_KEY);\n};","map":{"version":3,"names":["CART_KEY","loadCart","savedCart","localStorage","getItem","undefined","JSON","parse","error","saveCart","state","json","stringify","setItem","clearCartStorage","removeItem"],"sources":["C:/Users/devan/OneDrive/Desktop/BillingSys/billing-system-app/src/app/localStorage.ts"],"sourcesContent":["// localStorage.ts\r\n// ----------------------------\r\n// Handles saving & loading the cart from localStorage\r\n// ----------------------------\r\n\r\nimport { CartState } from \"../types\";\r\n\r\n// A fixed key used to store cart data\r\nconst CART_KEY = \"cart_v1\";\r\n\r\n/**\r\n * Load cart data from localStorage.\r\n * Returns:\r\n *  - Parsed cart state if found\r\n *  - undefined if nothing stored or error occurs\r\n */\r\nexport const loadCart = (): CartState | undefined => {\r\n  try {\r\n    const savedCart = localStorage.getItem(CART_KEY);\r\n\r\n    // If nothing stored yet → return undefined\r\n    if (!savedCart) return undefined;\r\n\r\n    // Convert JSON string → JS object\r\n    return JSON.parse(savedCart) as CartState;\r\n  } catch (error) {\r\n    // If any error happens (invalid JSON, etc.) → ignore\r\n    return undefined;\r\n  }\r\n};\r\n\r\n/**\r\n * Save the current cart state into localStorage.\r\n */\r\nexport const saveCart = (state: CartState) => {\r\n  try {\r\n    const json = JSON.stringify(state); // Convert to string\r\n    localStorage.setItem(CART_KEY, json); // Save it\r\n  } catch (error) {\r\n    // Ignore errors (e.g., storage full)\r\n  }\r\n};\r\n\r\n/**\r\n * Remove all saved cart data from localStorage.\r\n */\r\nexport const clearCartStorage = () => {\r\n  localStorage.removeItem(CART_KEY);\r\n};\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAIA;AACA,MAAMA,QAAQ,GAAG,SAAS;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,QAAQ,GAAGA,CAAA,KAA6B;EACnD,IAAI;IACF,MAAMC,SAAS,GAAGC,YAAY,CAACC,OAAO,CAACJ,QAAQ,CAAC;;IAEhD;IACA,IAAI,CAACE,SAAS,EAAE,OAAOG,SAAS;;IAEhC;IACA,OAAOC,IAAI,CAACC,KAAK,CAACL,SAAS,CAAC;EAC9B,CAAC,CAAC,OAAOM,KAAK,EAAE;IACd;IACA,OAAOH,SAAS;EAClB;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMI,QAAQ,GAAIC,KAAgB,IAAK;EAC5C,IAAI;IACF,MAAMC,IAAI,GAAGL,IAAI,CAACM,SAAS,CAACF,KAAK,CAAC,CAAC,CAAC;IACpCP,YAAY,CAACU,OAAO,CAACb,QAAQ,EAAEW,IAAI,CAAC,CAAC,CAAC;EACxC,CAAC,CAAC,OAAOH,KAAK,EAAE;IACd;EAAA;AAEJ,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMM,gBAAgB,GAAGA,CAAA,KAAM;EACpCX,YAAY,CAACY,UAAU,CAACf,QAAQ,CAAC;AACnC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}